<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title></title><meta name=description content="A simple monospaced resume theme for Hugo."><meta name=author content="Joel Van Eenwyk"><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2 crossorigin=anonymous><link rel=stylesheet href=/sass/researcher.min.css><link rel=icon type=image/ico href=https://www.joelvaneenwyk.com/favicon.ico></head><body><div class="container mt-5"><nav class="navbar navbar-expand-sm flex-column flex-sm-row text-nowrap p-0"><a class="navbar-brand mx-0 mr-sm-auto" href=https://www.joelvaneenwyk.com/>Joel Van Eenwyk</a><div class="navbar-nav flex-row flex-wrap justify-content-center"><a class="nav-item nav-link" href=/>About</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/content/resume.pdf><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-file-earmark-person-fill" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M2 2a2 2 0 012-2h5.293A1 1 0 0110 .293L13.707 4a1 1 0 01.293.707V14a2 2 0 01-2 2H4a2 2 0 01-2-2V2zm7.5 1.5v-2l3 3h-2a1 1 0 01-1-1zM11 8A3 3 0 115 8a3 3 0 016 0zm2 5.755S12 12 8 12s-5 1.755-5 1.755V14a1 1 0 001 1h8a1 1 0 001-1v-.245z"/></svg>Resume</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/contact>Contact</a></div></nav></div><hr><div id=content><div class=container><h1 id=web-programming-for-console-developers>Web Programming for Console Developers</h1><p>As a C++ programmer by profession, every few years I look into the web and scoff at it. The tools are usually nowhere near the robustness I&rsquo;m used to and the level of control I have is just not the same. As a type-safe programmer, Javascript upsets me and the likes of jQuery scare me.</p><p>But over time I&rsquo;ve come to realize that this is in great part due to my fear of the unknown. Yes, there are parts of web programming that are truly terrible (See <a href=http://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/>NPM left-pad Chaos</a>), but it&rsquo;s really coming around at least from my perspective. TypeScript and CoffeeScript exist for those of us that like some degree of type safety. NodeJS for Visual Studio is great and debugging works beautifully. And we have tools like Grunt which provide a &lsquo;compile&rsquo; step for for code cleanup, validation, image optimization and much more.</p><h2 id=pillars>Pillars</h2><p>This is just a side project of mine and as with any side project you need to set some boundaries and goals or you&rsquo;ll never ship anything (something I have ample experience with).</p><p>So, I boiled it down to these fundamental goals:</p><ol><li>Create something that is easy to maintain</li><li>As easy to deploy live as possible</li><li>Can test it locally while traveling</li></ol><h2 id=the-stack>The Stack</h2><h3 id=backend>Backend</h3><ul><li>Heroku</li><li>NodeJS</li><li>Grunt</li><li>Express</li><li>HARP</li></ul><h3 id=frontend>Frontend</h3><ul><li>jQuery</li><li>Bootstrap</li><li>SASS</li><li>EJS</li></ul><h3 id=tools>Tools</h3><ul><li>Windows 10</li><li>Visual Studio 2015</li><li>Sublime</li><li>Heroku CLI</li></ul><h2 id=server-setup>Server Setup</h2><p>Turns out Heroku is pretty great. Up until now I&rsquo;ve always had a Linux server somewhere that I manually setup and maintain. Either with a LAMP stack or something similar. It&rsquo;s always a pain to maintain and I need to SFTP or SSH into it to do any work at all. The control was nice, but the issue is that I&rsquo;m not a web programmer and my day-to-day is actually in Windows or Mac OS which means I&rsquo;m never really efficient in Linux as much as I&rsquo;d like to pretend I am.</p><p>To satisfy goals 2) and 3) this simply will not work for me. And then I found the servers as a service model like Heroku. The price is relatively competitive with a bit of cost for the convenience.</p><p>To deploy, you simply connect it to your GitHub account which allows for private accounts as well. When you submit to GitHub it automatically pulls and builds it. Setup is easy, in the root of your project you define:</p><ul><li>app.json</li></ul><pre><code>Basic description of your application.
</code></pre><ul><li>Procfile</li></ul><pre><code>Command to launch the web server (e.g. node server.js)
</code></pre><ul><li>package.json</li></ul><pre><code>This is used by npm to store information about the package. Here you define dependencies, basic information like username and email, and so on.
</code></pre><p>Once you have these defined and a basic NodeJS server</p><h2 id=postgres>Postgres</h2><p>Heroku also has postgres support directly which can be very handy and easy to use connection using pgAdmin III. Details on connecting <a href=http://mherman.org/blog/2015/02/12/postgresql-and-nodejs/ title="Useful NodeJS and Postgres Tutorial">using NodeJS</a>:</p><ul><li><a href=https://devcenter.heroku.com/articles/heroku-postgresql#connecting-in-node-js>Connecting in NodeJS</a></li></ul><p>Also some details on <a href=https://devcenter.heroku.com/articles/connecting-to-heroku-postgres-databases-from-outside-of-heroku>Connecting to Postgres</a></p><p>You can get all the details about the server from the stats page in my case something like this:</p><pre><code>https://postgres.heroku.com/databases/jvaneenwyk-database
</code></pre><p>I ran into the following:</p><pre><code>connect to PostgreSQL server: FATAL: no pg_hba.conf entry for host &quot;4X.XXX.XX.XXX&quot;
</code></pre><p>Turns out this was because I didn&rsquo;t enable SSL.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>pg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;pg&#39;</span>);
<span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>defaults</span>.<span style=color:#a6e22e>ssl</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>Client</span>()
<span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>connect</span>(<span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>PG_REMOTE_URL</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>err</span>, <span style=color:#a6e22e>client</span>) {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>err</span>) {
        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Failed to connect to remote postgres. Connecting to local postgres&#39;</span>);
        <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>err</span>);
        <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>connect</span>(<span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>PG_LOCAL_URL</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>err</span>, <span style=color:#a6e22e>client</span>) {
            <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>err</span>) {
                <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Failed to connect to local postgres&#39;</span>);
                <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>err</span>);
            } <span style=color:#66d9ef>else</span> {
                <span style=color:#a6e22e>setupDatabase</span>(<span style=color:#a6e22e>client</span>);
            }
        });
    } <span style=color:#66d9ef>else</span> {
        <span style=color:#a6e22e>setupDatabase</span>(<span style=color:#a6e22e>client</span>);
    }
});
</code></pre></div><h2 id=other-technology>Other Technology</h2><p>There are innumerable other technologies I looked at while implementing my website that I haven&rsquo;t even started to have time to look at. You can add unfurl tags (<a href=http://tinyurl.com/pu59bre>http://tinyurl.com/pu59bre</a>) via oEmbed server or HTML meta tags for Facebook OpenGraph.</p><p>For live editing you have StackEdit and Prose.io and numerous others which all seem pretty great, but honestly if you&rsquo;re using GitHub then you can use your favorite desktop app like Sublime in my case.</p><p>Cloudpipes is another that caught my eye, but spending money to visually program automated interactions with the world seems a bit strange to me.</p><h2 id=resources>Resources</h2></div></div><div id=footer class=mb-5><hr><div class="container text-center"><a href=https://joelvaneenwyk.github.io/><small>By Joel Van Eenwyk</small></a></div></div></body></html>